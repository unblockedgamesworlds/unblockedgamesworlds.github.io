function Gl_preloader(){for(var t,n=0;n<arguments.length;n++)t=Gl_totalpreimages++,Gl_preimage[t]=new Image,Gl_preimage[t].src=arguments[n]}function Gl_hook(n){Gl_hooked[Gl_hooked.length]=n}function Gl_unhook(n){for(var r=!1,i,t=0;t<Gl_hooked.length;t++)if(Gl_hooked[t]==n){r=!0;break}if(r){for(i=t;i<Gl_hooked.length-1;i++)Gl_hooked[i]=Gl_hooked[i+1];Gl_hooked.length--}}function Gl_start(){if(Gl_browser.panic){Gl_alert("Gl_start()","Error! Gamelib could not start!");return}!/\d/.test(location.host)||Gl_running||(Gl_running=!0,Gl_interval=Gl_browser.ns4?setTimeout("Gl_loop()",Gl_timerSpeed):setInterval("Gl_loop()",Gl_timerSpeed))}function Gl_stop(){Gl_running=!1,clearInterval(Gl_interval)}function Gl_setTimerSpeed(n){Gl_stop(),Gl_timerSpeed=n,Gl_start()}function Gl_makedegs(){for(n=0;n<360;n++)Gl_sin[n]=Math.sin(3.14159*n/180),Gl_cos[n]=-Math.cos(3.14159*n/180)}function Gl_get_cookies(){for(var t=document.cookie.split("; "),n=0;n<t.length;n++)Gl_cookies[n]=new Gl_Cookie_construct(t[n])}function Gl_Cookie_construct(n){var t=n.split("=");this.name=unescape(t[0]),this.value=unescape(t[1])}function Gl_set_cookie(n){return document.cookie=this.name+"="+escape(n)+"; expires= Wed, 1 May 2030 23:00:00 UTC; path=/",this.value=n,!0}function Gl_delete_cookie(){for(var n=0;n<Gl_cookies.length;n++)if(Gl_cookies[n].name==this.name){this.value=null,document.cookie=this.name+"=; expires= Mon, 3 Jan 2000 00:00:00 UTC; path=/",Gl_cookies[n].name="",Gl_cookies[n].value="";break}return!0}function Gl_get_cookie(n){for(var t=0;t<Gl_cookies.length;t++)if(Gl_cookies[t].name==n)return Gl_cookies[t].value;return null}function Gl_cookie(n){this.name=n,this.value=Gl_get_cookie(n),this.setvalue=Gl_set_cookie,this.erase=Gl_delete_cookie}function Gl_get_window_height(){return windowheight=Gl_browser.ie?document.body.offsetHeight:window.innerHeight}function Gl_get_window_width(){return windowwidth=Gl_browser.ie?document.body.offsetWidth:window.innerWidth}function Gl_get_window_scrollX(){return Gl_browser.ie?document.body.scrollLeft:Gl_browser.dom2?window.scrollX:window.pageXOffset}function Gl_get_window_scrollY(){return Gl_browser.ie?document.body.scrollTop:Gl_browser.dom2?window.scrollY:window.pageYOffset}function Gl_scrollWindow(n,t){window.scrollTo(n,t)}function Gl_scrollbars(n){if(n=n.toLowerCase(),n=="off"?n="no":n=="on"&&(n="yes"),n=="yes"||n=="no")if(Gl_browser.ie)document.body.scroll=n;else if(Gl_browser.dom2){var t=document.getElementsByTagName("body")[0];t.style.overflow=n=="yes"?"visible":"hidden"}}function Gl_layer(n,t,i,r){var f,u;return this.on=!0,this.mouse=!0,this.x=n,this.y=t,this.z=Gl_layer_index,this.xmax=1e3,this.xmin=0,this.ymax=1e3,this.ymin=0,this.URL="",this.lock=[],this.lockxoff=[],this.lockyoff=[],this.innerHTML=r,this.draggable=!1,this.dragnormal=!0,this.dragvert=!1,this.draghoriz=!1,this.onmouseover="",this.onmouseout="",this.onclickup="",this.onclickdown="",this.opacity=100,this.clipleft=0,this.clipright=0,this.cliptop=0,this.clipbottom=0,this.clipped=!1,this.following=null,this.followingx=0,this.followingy=0,this.followingox=-1e3,this.followingoy=-1e3,this.alive=!0,this.index=Gl_layer_index,Gl_browser.ie?(Gl_firstlayer&&(Gl_browser.version>5?(Gl_iebuffer=document.createElement('<iframe name="buffer" id="buffer"><\/iframe>'),document.body.appendChild(Gl_iebuffer),Gl_iebuffer.style.left="-10px",Gl_iebuffer.style.top="-10px",Gl_iebuffer.style.visibility="hidden"):(document.body.insertAdjacentHTML("BeforeEnd",'<iframe name="buffer" id="buffer" src="" style="position:absolute;left:-100;top:-100;width:10;height:10;visibility:hidden"><\/iframe>'),Gl_iebuffer=document.all.buffer),Gl_ieframe=document.frames.buffer,Gl_firstlayer=!1),this.raw=genDiv(n,t,i,"Adiv",Gl_layer_index,r),this.ob=this.raw.style,this.width=this.raw.clientWidth,this.height=this.raw.clientHeight,this.write=Gl_layerwriteIE,this.append=Gl_layerappendIE,this.moveTo=Gl_movetoIE,this.clip=Gl_obclipIE,this.resizeTo=Gl_layerresizeIE,this.setBgcolor=Gl_setbgcolorIE,this.setBackground=Gl_setbackgroundIE,this.setOpacity=Gl_setOpacityIE):Gl_browser.dom2?(f=document.getElementsByTagName("body").item(0),Gl_firstlayer&&(u=document.createElement("IFRAME"),u.setAttribute("id","buffer"),u.setAttribute("name","buffer"),u.setAttribute("style","position:absolute;left:0px;top:-20px;width:1px;height:1px;visibility:hidden"),u.setAttribute("src",""),u.src="",u.id="buffer",u.name="buffer",u.width=1,u.height=1,u.style.position="absolute",u.style.overflow="hidden",u.style.visibility="hidden",f.appendChild(u),u.style.left="0px",u.style.top="-20px",Gl_iebuffer=document.getElementById("buffer"),Gl_firstlayer=!1),this.raw=genDiv(n,t,i,"Adiv",Gl_layer_index,r,f),this.ob=this.raw.style,this.width=this.raw.offsetWidth,this.height=this.raw.offsetHeight,this.write=Gl_layerwriteDOM2,this.append=Gl_layerappendIE,this.moveTo=Gl_movetoDOM2,this.setBgcolor=Gl_setbgcolorIE,this.clip=Gl_obclipDOM2,this.setOpacity=Gl_setOpacityDOM2,this.setBackground=Gl_setbackgroundIE,this.resizeTo=Gl_layerresizeDOM2):Gl_browser.ns4&&(this.raw=genDiv(n,t,i,"Adiv",Gl_layer_index,r),this.ob=this.raw,this.width=this.ob.clip.width,this.height=this.ob.clip.height,this.write=Gl_layerwriteNS,this.append=Gl_layerappendNS,this.moveTo=Gl_movetoNS,this.clip=Gl_obclipNS,this.resizeTo=Gl_layerresizeNS,this.setBgcolor=Gl_setbgcolorNS,this.setBackground=Gl_setbackgroundNS,this.setOpacity=Gl_null),this.load=Gl_load,this.lockLayer=Gl_locklayer,this.unlockLayer=Gl_unlocklayer,this.moveLocks=Gl_moveLocks,this.dragType=Gl_dragtype,this.makeDraggable=Gl_makeDraggable,this.makeUndraggable=Gl_makeUndraggable,this.setZ=Gl_setz,this.hide=Gl_hide,this.show=Gl_show,this.setXlimits=Gl_setxlimits,this.setYlimits=Gl_setylimits,this.follow=Gl_layerfollow,this.stopFollowing=Gl_stoplayerfollow,this.Gl_index=Gl_layer_index++,Gl_layers[Gl_layers.length]=this,this}function genDiv(n,t,i,r,u,f,e){var o,s;return Gl_browser.ns4?(document[r+u]=e?o=new Layer(i,e):o=new Layer(i),o.name=u,o.height=0,o.left=n,o.top=t,o.layers=[],o.zIndex=u,o.visibility="show",o.document.open(),o.document.write(f),o.document.close(),o):Gl_browser.ie?(e?e.insertAdjacentHTML("BeforeEnd",'<div id="'+r+u+'" style="position:absolute;left:'+n+";top:"+t+";width:"+i+";visibility:visible;z-index:"+u+'">\n'+f+"\n<\/div>\n"):document.body.insertAdjacentHTML("BeforeEnd",'<div id="'+r+u+'" style="position:absolute;left:'+n+";top:"+t+";width:"+i+";visibility:visible;overflow:hidden;z-index:"+u+'">\n'+f+"\n<\/div>\n"),document.all[r+u]):Gl_browser.dom2?(s=document.createElement("DIV"),s.setAttribute("style","position:absolute;left:-1000px;top:-1000px;overflow:hidden;z-index:"+u),s.setAttribute("id",r+u),s.style.left="-1000px",s.innerHTML=f+"\n",e?e.appendChild(s):document.getElementsByTagName("body").item(0).appendChild(s),s.style.position="absolute",s.style.left=n+"px",s.style.top=t+"px",s.style.width=i+"px",document.getElementById(r+u)):void 0}function Gl_setbackgroundNS(n){this.ob.background.src=n}function Gl_setbackgroundIE(n){this.ob.backgroundImage="url("+n+")"}function Gl_makeDraggable(){this.draggable=!0}function Gl_makeUndraggable(){this.draggable=!1,this.dragnormal=!0}function Gl_layerresizeIE(n,t){this.ob.width=n,this.ob.height=t,this.ob.clip="rect(0 "+n+" "+t+" 0)",this.width=n,this.height=t,this.clipped=!0,this.cliptop=0,this.clipbottom=t,this.clipleft=0,this.clipright=n}function Gl_layerresizeNS(n,t){this.ob.width=n,this.ob.height=t,this.ob.clip.left=0,this.ob.clip.right=n,this.ob.clip.top=0,this.ob.clip.bottom=t,this.width=n,this.height=t,this.clipped=!0,this.cliptop=0,this.clipbottom=t,this.clipleft=0,this.clipright=n}function Gl_layerresizeDOM2(n,t){this.ob.width=n+"px",this.ob.height=t+"px",this.ob.clip="rect(0px,"+n+"px,"+t+"px,0px)",this.width=n,this.height=t,this.clipped=!0,this.cliptop=0,this.clipbottom=t,this.clipleft=0,this.clipright=n}function Gl_layerfollow(n,t,i){this.followingx=t,this.followingy=i,n.alive?(this.following=n,this.draggable=!1,n.followedby[n.followedby.length]=this,n.beingfollowed=!0):alert("Error!\nLayer cannot follow object (not a sprite or mouse!). Check code!")}function Gl_stoplayerfollow(){for(var i=!1,t,n=0;n<this.following.followedby.length;n++)if(this.following.followedby[n]==this){i=!0;break}if(i){for(t=n;t<this.following.followedby.length-1;t++)this.following.followedby[t]=this.following.followedby[t+1];--this.following.followedby.length==0&&(this.following.beingfollowed=!1)}}function Gl_layerwriteIE(n){this.innerHTML=n,this.clipped?this.raw.innerHTML=n+"\n":(this.resizeTo(0,0),this.raw.innerHTML=n+"\n",this.width=this.raw.scrollWidth,this.height=this.raw.scrollHeight,this.resizeTo(this.width,this.height),this.clipped=!1,this.moveTo(this.x,this.y))}function Gl_layerwriteDOM2(n){this.innerHTML=n,this.clipped?this.raw.innerHTML=n+"\n":(this.raw.innerHTML=n,setTimeout("Gl_layerwriteDOM2delay("+this.index+")",10))}function Gl_layerwriteDOM2delay(n){var t=Gl_layers[n],i;t.width=t.raw.offsetWidth,t.height=t.raw.offsetHeight,t.ob.width=t.width,i="",t.clipped=!1,t.moveTo(t.x,t.y)}function Gl_layerappendIE(n,t){if(t&&t<this.innerHTML.length){var i=this.innerHTML.substring(0,t)+n+this.innerHTML.substring(t,this.innerHTML.length);this.innerHTML=i,this.raw.innerHTML=i}else this.innerHTML+=n,this.raw.innerHTML=this.innerHTML;this.clipped||(this.width=this.raw.clientWidth,this.height=this.raw.clientHeight,this.moveTo(this.x,this.y))}function Gl_layerappendNS(n,t){if(t&&t<this.innerHTML.length){var i=this.innerHTML.substring(0,t)+n+this.innerHTML.substring(t,this.innerHTML.length);this.innerHTML=i}else this.innerHTML+=n;this.ob.document.open(),this.ob.document.write(this.innerHTML),this.ob.document.close(),this.clipped||(this.width=this.raw.clip.width,this.height=this.raw.clip.height,this.moveTo(this.x,this.y))}function Gl_layerwriteNS(n){this.ob.width=0,this.ob.height=0,this.ob.document.open(),this.ob.document.write(n),this.ob.document.close(),this.innerHTML=n,this.clipped||(this.width=this.raw.clip.width,this.height=this.raw.clip.height,this.moveTo(this.x,this.y))}function Gl_movetoNS(n,t){n>this.xmax-this.width&&(n=this.xmax-this.width),t>this.ymax-this.height&&(t=this.ymax-this.height),n<this.xmin&&(n=this.xmin),t<this.ymin&&(t=this.ymin),this.ob.moveTo(n,t),this.x=n,this.y=t,this.lock.length>0&&this.moveLocks()}function Gl_movetoIE(n,t){n>this.xmax-this.width&&(n=this.xmax-this.width),t>this.ymax-this.height&&(t=this.ymax-this.height),n<this.xmin&&(n=this.xmin),t<this.ymin&&(t=this.ymin),this.ob.posTop=t,this.ob.posLeft=n,this.x=n,this.y=t,this.lock.length>0&&this.moveLocks()}function Gl_movetoDOM2(n,t){n>this.xmax-this.width&&(n=this.xmax-this.width),t>this.ymax-this.height&&(t=this.ymax-this.height),n<this.xmin&&(n=this.xmin),t<this.ymin&&(t=this.ymin),this.ob.top=t+"px",this.ob.left=n+"px",this.x=n,this.y=t,this.lock.length>0&&this.moveLocks()}function Gl_moveLocks(){for(var n=0;n<this.lock.length;n++)this.lock[n].moveTo(this.x+this.lockxoff[n],this.y+this.lockyoff[n])}function Gl_setxlimits(n,t){this.xmin=n,this.xmax=t,this.x<this.xmin?this.x=this.xmin:this.x+this.width>this.xmax&&(this.x=this.xmax-this.width),this.moveTo(this.x,this.y)}function Gl_setylimits(n,t){this.ymin=n,this.ymax=t,this.y<this.ymin?this.y=this.ymin:this.y+this.height>this.ymax&&(this.y=this.ymax-this.height),this.moveTo(this.x,this.y)}function Gl_setz(n){this.ob.zIndex=n,this.z=n}function Gl_show(){this.ob.visibility="visible"}function Gl_hide(){this.ob.visibility="hidden"}function Gl_get_heightIE(){return this.raw.clientHeight}function Gl_get_heightNS(){return this.raw.clip.height}function Gl_get_widthIE(){return this.raw.clientWidth}function Gl_get_widthNS(){return this.raw.clip.width}function Gl_obclipNS(n,t,i,r){this.ob.clip.left=n,this.ob.clip.right=t,this.ob.clip.top=i,this.ob.clip.bottom=r,this.clipleft=n,this.cliptop=i,this.clipright=t,this.clipbottom=r,this.clipped=!0}function Gl_obclipIE(n,t,i,r){this.ob.clip="rect("+i+","+t+","+r+","+n+")",this.clipleft=n,this.cliptop=i,this.clipright=t,this.clipbottom=r,this.clipped=!0}function Gl_obclipDOM2(n,t,i,r){this.ob.clip="rect("+i+"px,"+t+"px,"+r+"px,"+n+"px)",this.clipleft=n,this.cliptop=i,this.clipright=t,this.clipbottom=r,this.clipped=!0}function Gl_loaderAdd(n,t,i,r){Gl_app="",Gl_loadQueue[Gl_loadQueue.length]=n,Gl_loadQueue[Gl_loadQueue.length]=t,Gl_loadQueue[Gl_loadQueue.length]=i,Gl_loadQueue[Gl_loadQueue.length]=r||60,Gl_loading||Gl_loadKick()}function Gl_loadKick(){var n="";if(Gl_loadIndex+=4,Gl_loadIndex>=Gl_loadQueue.length){Gl_loadIndex=-4,Gl_loading=!1,Gl_loadQueue=[];return}Gl_loading=!0,Gl_loadCL=Gl_loadQueue[Gl_loadIndex],Gl_loadCL.URL=Gl_loadQueue[Gl_loadIndex+1],Gl_loadTime=Gl_loadQueue[Gl_loadIndex+3],n=Gl_loadQueue[Gl_loadIndex+1]+(Gl_loadQueue[Gl_loadIndex+2]?"?"+Math.random():""),Gl_browser.ie?(Gl_ieframe.document.body&&(Gl_ieframe.document.body.innerHTML=""),setTimeout('Gl_iebuffer.src="'+n+'"',400)):Gl_browser.dom2?(Gl_iebuffer.innerHTML="",Gl_iebuffer.src=n):Gl_browser.ns4&&(Gl_loadCL.ob.height=0,Gl_loadCL.ob.load(n,Gl_loadCL.width)),Gl_loadTimer=setTimeout("Gl_loadWait()",500)}function Gl_loadWait(){if(Gl_loadTime--==0){Gl_loadKick();return}if(Gl_browser.ie&&Gl_ieframe.document.readyState.toLowerCase()=="complete"){Gl_loadCL.raw.innerHTML="",Gl_loadCL.ob.height=0,Gl_loadCL.ob.clientHeight=0,Gl_loadCL.ob.scrollHeight=0,Gl_loadCL.raw.innerHTML=Gl_ieframe.document.body.innerHTML,Gl_loadCL.innerHTML=Gl_ieframe.document.body.innerHTML,Gl_loadCL.width=Gl_loadCL.raw.scrollWidth,Gl_loadCL.height=Gl_loadCL.raw.scrollHeight,Gl_loadCL.ob.height=Gl_loadCL.height,Gl_loadCL.ob.width=Gl_loadCL.width,Gl_loadCL.moveTo(Gl_loadCL.x,Gl_loadCL.y),Gl_loadCL.clipped=!1,window.status="Done",Gl_loadKick();return}if(!Gl_browser.ie&&Gl_browser.dom2&&(window.document.readyState==null||window.document.readyState=="complete")){var n=""+window.frames.buffer.document.body.innerHTML;Gl_loadCL.raw.innerHTML=n,Gl_loadCL.innerHTML=n,Gl_loadCL.width=Gl_loadCL.raw.offsetWidth,Gl_loadCL.height=Gl_loadCL.raw.offsetHeight,Gl_loadCL.moveTo(Gl_loadCL.x,Gl_loadCL.y),Gl_loadCL.clipped=!1,window.status="Done",Gl_loadKick();return}if(Gl_browser.ns4&&Gl_loadCL.ob.clip.height>0){Gl_loadCL.width=Gl_loadCL.ob.clip.width,Gl_loadCL.height=Gl_loadCL.ob.clip.height,Gl_loadCL.innerHTML="",Gl_loadCL.moveTo(Gl_loadCL.x,Gl_loadCL.y),Gl_loadCL.clipped=!1,window.status="Done",Gl_loadKick();return}setTimeout("Gl_loadWait()",1e3)}function Gl_load(n,t,i){Gl_loaderAdd(this,n,t,i)}function Gl_setbgcolorIE(n){this.ob.backgroundColor=n}function Gl_setbgcolorNS(n){this.ob.bgColor=n}function Gl_setOpacityIE(n){n<100&&n>0?(this.ob.filter="alpha(opacity="+n+")",this.opacity=n):(this.ob.filter="",this.opacity=100)}function Gl_setOpacityDOM2(n){n<100&&n>0&&(this.ob.MozOpacity=n+"%",this.opacity=n)}function Gl_locklayer(n){for(var t=0;t<this.lock.length;t++)if(this.lock[t]==n){this.lockxoff[t]=n.x-this.x,this.lockyoff[t]=n.y-this.y;return}this.lock[this.lock.length]=n,this.lockxoff[this.lockxoff.length]=n.x-this.x,this.lockyoff[this.lockyoff.length]=n.y-this.y}function Gl_unlocklayer(n){var t,i,r;if(!n){this.lock=[];return}for(t=0;t<this.lock.length;t++)if(this.lock[t]==n){for(i=t;i<this.lock.length-1;i++)this.lock[i]=this.lock[i+1];r=this.lock.length,this.lock[this.lock.length-1]=null,this.lock.length=r-1;return}}function Gl_dragtype(n){this.dragnormal=this.dragvert=this.draghoriz=!1,n==0||isNaN(n)&&n.toLowerCase()=="normal"?this.dragnormal=!0:n==1||isNaN(n)&&n.toLowerCase()=="vertical"?this.dragvert=!0:(n==2||isNaN(n)&&n.toLowerCase()=="horizontal")&&(this.draghoriz=!0)}function Gl_null(){}function Gl_loop(){for(var n=null,r=0,u=0,f=null,e=0,i=Sp_xoffset!=Sp_cxoffset||Sp_yoffset!=Sp_cyoffset?!0:!1,t=0;t<Sp_active.length;t++){if(n=Sp_active[t],n.targetting?n.gl_setDirection(n.targetting.x+n.targettingx,n.targetting.y+n.targettingy):n.routing?Math.round(n.x)==Math.round(n.routeToX)&&Math.round(n.y)==Math.round(n.routeToY)?(n.nextRP(),n.routing&&n.gl_setDirection(n.routeToX,n.routeToY)):n.gl_setDirection(n.routeToX,n.routeToY):n.routingBR&&(--n.routeCnt==0&&n.gl_setNextRBD(),n.routeCI==1?n.setXYdegs(n.xydegs-n.routeP2):n.routeCI==2&&n.setXYdegs(n.xydegs+n.routeP2)),n.x+=n.xspeed,n.y+=n.yspeed,(n.x!=n.cx||n.y!=n.cy||i)&&(n.cx=n.x,n.cy=n.y,n.x+n.width>n.xmax&&n.xdir>0?n.bounces?n.setDir(-n.xdir,n.ydir):(n.x=n.xmax-n.width,n.setDir(0,n.ydir)):n.x<=n.xmin&&n.xdir<0&&(n.bounces?n.setDir(-n.xdir,n.ydir):(n.x=n.xmin,n.setDir(0,n.ydir))),n.y+n.height>n.ymax&&n.ydir>0?n.bounces?n.setDir(n.xdir,-n.ydir):(n.y=n.ymax-n.height,n.setDir(n.xdir,0)):n.y<=n.ymin&&n.ydir<0&&(n.bounces?n.setDir(n.xdir,-n.ydir):(n.y=n.ymin,n.setDir(n.xdir,0)))),n.beingfollowed)for(Sp_x=0;Sp_x<n.followedby.length;Sp_x++)Sp_a=n.followedby[Sp_x],Sp_a.moveTo(n.x+Sp_a.followingx,n.y+Sp_a.followingy);n.animspd>0&&--n.animtmr<1&&n.crepeat!=n.animrepeat?(n.animtmr=n.animspd,n.animpos+=n.animd,n.animpos<0?(n.animpos=n.animsend-1,n.animrepeat!=-1&&n.crepeat++):n.animpos==n.animsend&&(n.animpos=n.animsstart,n.animrepeat!=-1&&n.crepeat++),n.crepeat!=n.animrepeat&&n.setAnimation(n.animpos)):n.moveTo_l()}for(Sp_cxoffset=Sp_xoffset,Sp_cyoffset=Sp_yoffset,t=0;t<Gl_hooked.length;t++)eval(Gl_hooked[t]);Sp_spritesonscreen=Sp_active.length,Gl_ticker++,Gl_browser.ns4&&Gl_running&&(Gl_interval=setTimeout("Gl_loop()",Gl_timerSpeed))}function Gl_getBrowser(){this.version=1,this.ie=this.ie5=this.ie6=this.ns=this.ns4=this.ns6=this.unix=this.webtv=this.apple=this.dom2=!1,this.panic=!0;var n=navigator.userAgent.toLowerCase(),t=parseInt(navigator.appVersion);return n.indexOf("opera")!=-1?this:n.indexOf("webtv")!=-1&&document.all?(this.webtv=!0,this):((n.indexOf("mac")!=-1||n.indexOf("apple")!=-1)&&(this.apple=!0),navigator.userAgent.indexOf("X11")!=-1&&(this.unix=!0),n.indexOf("msie")!=-1?(document.all&&(this.version=4,this.ie=!1,this.panic=!1),n.indexOf("msie 5")!=-1&&(this.version=5,this.ie5=!0,this.dom2=!0,this.panic=!1),n.indexOf("msie 6")!=-1&&(this.version=6,this.ie6=!0,this.dom2=!0,this.panic=!1),n.indexOf("msie 7")!=-1&&(this.version=7,this.ie7=!0,this.dom2=!0,this.panic=!1)):n.indexOf("mozilla")!=-1&&(this.ns=!0,t==4?(this.version=4,this.ns4=!0,this.panic=!1):!this.ie&&this.ns&&t>4&&(this.version=6,this.ns6=!0,this.dom2=!0,this.panic=!1)),document.getElementById&&(this.version==1&&(this.version=6),this.dom2=!0,this.panic=!1),this)}function Gl_styleSheet(){var n='<style type="text/css">\n';n+="<\/style>",document.write(n)}function Gl_calibrate(n,t){var i=null;Gl_callBack=n,i=genDiv(0,0,200,"STdiv",Gl_layer_index++,'<table border=0><tr><td bgcolor="#444444" NOWRAP><font color="#ffffff" face="sans-serif" size=3>Gamelib Speed Calibration<\/font><\/td><\/tr><\/table>'),Gl_speedTestDiv=Gl_browser.ns4?i:i.style,Gl_n=t*5,Gl_fps=1e3/t,Gl_speedTestFinish=!1,Gl_STT=setInterval("Gl_speedTestFinish=true",5e3),setTimeout("Gl_speedTestLoop()",1)}function Gl_speedTestLoop(){if(Gl_browser.panic){Gl_alert("Gl_speedTestLoop()","Error! Could not start speed test!");return}Gl_speedTestDiv.top=85-Math.floor(Math.cos(3.14159*(250-Gl_n)/180)*100),Gl_n--,Gl_speedTestFinish?(Gl_timerSpeed=Gl_fps-Math.round(Gl_n/5),Gl_speedTestDiv.top=-100,Gl_speedTestDiv.visibility="hidden",setTimeout(Gl_callBack,1)):setTimeout("Gl_speedTestLoop()",Gl_fps)}function Gl_alert(n,t){Gl_browser.panic=!0,alert('Gamelib Alert: Error using method "'+n+'"\n\n'+t),Gl_stop()}function Sp_groupClearTrigger(n){Sp_groupHitTriggerFunc[n]=null,Sp_groupHitTriggerCount[n]=0}function Sp_groupSetTrigger(n,t,i){Sp_groupHitTriggerFunc[n]=i,Sp_groupHitTriggerCount[n]=t}function Sp_groupReset(n){Sp_groupHitTriggerCount[n]=0}function Sp_groupGetMembers(n){for(var i=[],t=0;t<Sp_totalsprites;t++)Sp_sprite[t].group==n&&(i[i.length]=Sp_sprite[t]);return i}function Sp_Sprite(){var t=!1,n=Sp_getDeadSprite();return(n?t=!0:n=this,n.on=!1,n.off=!1,n.state=0,n.x=0,n.y=-1e3,n.iX=0,n.iY=-1e3,n.cx=0,n.cy=0,n.z=Gl_layer_index,n.zDiffMax=1e10,n.xmin=0,n.xmax=100,n.ymin=0,n.ymax=100,n.bounces=!1,n.frame=0,n.framewidth=0,n.frameheight=0,n.animframes=0,n.animpos=0,n.anims=0,n.animsstart=0,n.animsend=0,n.animdir="forward",n.animd=1,n.animspd=0,n.animtmr=0,n.animrepeat=-1,n.crepeat=0,n.width=0,n.height=0,n.owidth=0,n.oheight=0,n.xdir=0,n.ydir=0,n.xydegs=-1,n.speed=0,n.xspeed=0,n.yspeed=0,n.cAl=0,n.cAt=0,n.cAr=0,n.cAb=0,n.usingCollisionArea=!1,n.mouse=!0,n.onmouseover="",n.onmouseout="",n.onclickdown="",n.onclickup="",n.draggable=!1,n.dragnormal=!0,n.dragvert=!1,n.draghoriz=!1,n.collides=!1,n.group=0,n.value=0,n.shieldPower=0,n.hit=null,n.totalhits=0,n.hitarray=[],n.image="",n.isstatic=!1,n.hard=!1,n.alive=!0,t||(n.index=Gl_layer_index),n.targetting=null,n.targettingx=0,n.targettingy=0,n.routing=!1,n.routingBR=!1,n.routeLoop=!1,n.routeCnt=0,n.routeCI="",n.routePos=0,n.routeP1=0,n.routeP2=0,n.route=[],n.routeToX=0,n.routeToY=0,n.hitevents=!1,n.hitevent=[],n.hardhitevent="",n.following=null,n.followingx=0,n.followingy=0,n.isfollowing=null,n.followedby=[],n.beingfollowed=!1,n.destroyed=!1,t)?n:(n.setZ=Sp_setz,n.setDir=Sp_setdir,n.hasHit=Sp_hashit,n.setXlimits=Sp_setxlimits,n.setYlimits=Sp_setylimits,n.setSpeed=Sp_setspeed,n.setXYdegs=Sp_setxydegs,n.getXYdegs=Sp_getxydegs,n.switchOff=Sp_switchoff,n.makeHard=Sp_makehard,n.makeStatic=Sp_makestatic,n.makeNormal=Sp_makenormal,n.dragType=Sp_dragtype,n.setAnimationSpeed=Sp_setanimspd,n.setAnimationLoop=Sp_setanimloop,n.setAnimationRepeat=Sp_setanimrepeat,n.check_collide=Sp_check_collide,n.useHitEvents=Sp_useHitEvents,n.setHitEvent=Sp_setHitEvent,n.setHardHitEvent=Sp_setHardHitEvent,n.follow=Sp_follow,n.stopFollowing=Sp_stopfollow,n.target=Sp_target,n.stopTargetting=Sp_stopTargetting,n.setCollides=Sp_setCollides,n.setCollide=Sp_setCollides,n.makeDraggable=Sp_makeDraggable,n.makeUndraggable=Sp_makeUndraggable,n.setFrameByDirection=Sp_setFrameByDirection,n.clearFrameByDirection=Sp_clearFrameByDirection,n.setRoute=Sp_setRoute,n.setRouteByCommand=Sp_setRouteByCommand,n.clearRoute=Sp_clearRoute,n.clearRouteLoop=Sp_clearRouteLoop,n.setCollisionArea=Sp_setCollisionArea,n.clearCollisionArea=Sp_clearCollisionArea,n.nextRP=Sp_nextRP,n.gl_setDirection=Sp_Gl_setDirection,n.gl_setNextRBD=Sp_Gl_setNextRBD,n.groupHit=Sp_groupHit,n.groupSet=Sp_groupSet,n.setValue=Sp_setValue,n.getHits=Sp_getHits,n.setCollisionZTest=Sp_setCollisionZTest,n.destroy=Sp_destroy,Gl_browser.ie?(document.body.insertAdjacentHTML("BeforeEnd",'<img src="" id="Sp_i'+Gl_layer_index+'" name="Sp_i'+Gl_layer_index+'" style="position: absolute; left:-1000px; top:0px;">'),n.raw=document.images["Sp_i"+Gl_layer_index],n.ob=document.images["Sp_i"+Gl_layer_index].style,n.moveto=Sp_movetoIE,n.moveTo=Sp_movetoIE,n.moveTo_l=Sp_movetoIE_l,n.setImage=Sp_setimageIE,n.swapImage=Sp_swapimageIE,n.setFrame=Sp_setframeIE,n.setAnimation=Sp_setanimIE,n.resize=Sp_linuxcompatible?Gl_null:Sp_resizeIE,n.switchOn=Sp_switchonIE,n.setOpacity=Sp_setOpacityIE):Gl_browser.dom2?(Sp_linuxcompatible?(n.raw=document.createElement("DIV"),n.moveto=Sp_movetoDOM2,n.moveTo=Sp_movetoDOM2,n.moveTo_l=Sp_movetoDOM2_l,n.setFrame=Sp_setframeDOM2,n.setAnimation=Sp_setanimDOM2,n.setImage=Sp_setimageDOM2,n.resize=Gl_null):(n.raw=document.createElement("IMG"),n.moveto=Sp_movetoIE,n.moveTo=Sp_movetoIE,n.moveTo_l=Sp_movetoIE_l,n.setFrame=Sp_setframeIE,n.setAnimation=Sp_setanimIE,n.setImage=Sp_setimageIE,n.resize=Sp_resizeIE),document.getElementsByTagName("body").item(0).appendChild(this.raw),n.raw.style.position="absolute",n.raw.style.overflow="hidden",n.ob=this.raw.style,n.swapImage=Sp_swapimageDOM2,n.switchOn=Sp_switchonDOM2,n.setOpacity=Sp_setOpacityDOM2):Gl_browser.ns4&&(n.ob=genDiv(-1e3,0,this.width,"Sp_i",Gl_layer_index,""),n.ob.height=this.height,n.ob.clip.height=this.height,n.moveto=Sp_movetoNS,n.moveTo=Sp_movetoNS,n.moveTo_l=Sp_movetoNS_l,n.setImage=Sp_setimageNS,n.swapImage=Sp_swapimageNS,n.setFrame=Sp_setframeNS,n.setAnimation=Sp_setanimNS,n.resize=Sp_linuxcompatible?Gl_null:Sp_resizeNS,n.switchOn=Sp_switchonNS,n.setOpacity=Gl_null),Gl_layers[Gl_layers.length]=n,Sp_sprite[Sp_totalsprites]=n,Sp_totalsprites++,Gl_layer_index++,n)}function Sp_getDeadSprite(){for(var n=0;n<Sp_sprite.length;n++)if(Sp_sprite[n].destroyed)return Sp_sprite[n];return!1}function Sp_setCollisionArea(n,t,i,r){this.usingCollisionArea=!0,this.cAl=n,this.cAt=i,this.cAr=this.width-1-t,this.cAb=this.height-1-r}function Sp_clearCollisionArea(){this.usingCollisionArea=!1,this.cAl=0,this.cAt=0,this.cAr=this.width-1,this.cAb=this.height-1}function Sp_Gl_setNextRBD(){if(this.routeCnt=1,this.routePos+=3,this.routePos>this.route.length&&(this.routeLoop?(this.x=Math.round(this.x),this.y=Math.round(this.y),this.routePos=0):this.routeBR=!1),this.routeCI=this.route[this.routePos],this.routeP1=this.route[this.routePos+1],this.routeP2=this.route[this.routePos+2],this.routeCI==0){this.moveTo(this.routeP1,this.routeP2);return}if(this.routeCI<3){this.routeCnt=this.routeP1;return}if(this.routeCI==3){this.setXYdegs(this.routeP1);return}if(this.routeCI==4){this.setSpeed(this.routeP1);return}if(this.routeCI==5){this.routeCnt=this.routeP1;return}if(this.routeCI==6){this.setXYdegs(this.xydegs-this.routeP1);return}this.routeCI==7&&this.setXYdegs(this.xydegs+this.routeP1)}function Sp_nextRP(){this.x=this.routeToX,this.y=this.routeToY,this.routePos+=2,this.routePos>=this.route.length&&(this.routeLoop?this.routePos=0:this.routing=!1),this.routeToX=this.route[this.routePos],this.routeToY=this.route[this.routePos+1]}function Sp_Gl_setDirection(n,t){var u=0,f=0,e=0,i=this.x,r=this.y;Math.abs(i-n)>Math.abs(r-t)?(u=Math.abs(i-n)<this.speed?Math.abs(i-n):this.speed,f=i-n!=0?i-n:1,this.xdir=f>0?-1:1,this.ydir=-(r-t)/Math.abs(f)):(u=Math.abs(r-t)<this.speed?Math.abs(r-t):this.speed,e=r-t!=0?r-t:1,this.ydir=e>0?-1:1,this.xdir=-(i-n)/Math.abs(e)),this.xydegs=Math.round(360*((Math.atan2(-this.xdir,this.ydir)+3.14159)/6.28318))%360,this.fbdSet&&this.frame!=this.fbd[this.xydegs]&&this.setFrame(this.fbd[this.xydegs]),this.xspeed=this.xdir*u,this.yspeed=this.ydir*u}function Sp_setRouteByCommand(n,t){this.routing=!1,this.routingBR=!1,this.route=[],this.routeLoop=t;for(var u="",s="",h=n,c="0123456789macsdfAC;,",i=0;i<h.length;i++)s=h.charAt(i),c.indexOf(s)!=-1&&(u+=s);u.charAt(u.length-1)==";"&&(u=u.substring(0,u.length-1));for(var i=0,f,e,o,r=u.split(";"),l="macdsfAC",i=0;i<r.length;i++){if(e=this.route[i*3]=l.indexOf(r[i].charAt(0)),e==-1){Gl_alert("setRouteByDirection()",'Unknown command "'+r[i]+'" at index '+i);return}if(e>2){if(f=r[i].substring(1,r[i].length),isNaN(f)){Gl_alert("setRouteByDirection()",'Illegal value "'+f+'" found at index '+i);return}this.route[i*3+1]=parseInt(f)}else{if(r[i].indexOf(",")==-1){Gl_alert("setRouteByDirection()",'Illegal argument to command "'+e+'" (should have 2 arguments) found at index '+i);return}if(f=r[i].substring(1,r[i].length),o=f.split(","),isNaN(o[0])||isNaN(o[1])){Gl_alert("setRouteByDirection()",'Illegal argument to command "'+e+'" (should be integers) found at index '+i);return}this.route[i*3+1]=parseInt(o[0]),this.route[i*3+2]=parseInt(o[1])}}this.routingBR=!0,this.routeCnt=1,this.routeCI=0,this.routePos=-3}function Sp_setRoute(){var n;if(this.routeToX=this.x,this.routeToY=this.y,this.routing=!0,this.routingBR=!1,this.routePos=-2,this.route=[],arguments.length==2)for(this.routeLoop=arguments[0],n=0;n<arguments[1].length;n++)this.route[n]=arguments[1][n];else if(arguments.length>1)for(this.routeLoop=arguments[0],n=1;n<arguments.length;n++)this.route[n-1]=arguments[n];else for(this.routeLoop=arguments[0][0],n=1;n<arguments[0].length;n++)this.route[n-1]=arguments[0][n]}function Sp_clearRoute(){this.routingBR=!1,this.routing=!1}function Sp_clearRouteLoop(){this.routeLoop=!1}function Sp_useHitEvents(n){this.hitevents=n}function Sp_setHitEvent(n,t){t==""&&(t=!1),this.hitevent[n.index]=t}function Sp_setHardHitEvent(n){this.hardhitevent=n!=""?n:!1}function Sp_follow(n,t,i){this.following||(this.followingx=t,this.followingy=i,n.alive?(this.following=n,this.draggable=!1,this.targetting=null,n.followedby[n.followedby.length]=this,n.beingfollowed=!0):alert("Error!\nLayer cannot follow object (not a sprite or mouse!). Check code!"))}function Sp_setFrameByDirection(){var t,i,n,r,u=arguments.length;if(Math.floor(u/3)!=u/3){alert("Error! setFrameByDirection() called with wrong number of arguments. Please check docs!");return}if(!this.fbdSet){for(this.fbd=[],n=0;n<360;n++)this.fbd[n]=-1;this.fbdSet=!0}for(n=0;n<u;n+=3)for(t=Math.round(arguments[n]),i=Math.round(arguments[n+1]+1),t>359&&(t=359),i>360&&(i=360),t<0&&(t=0),i<0&&(i=0),r=t;r<i;r++)this.fbd[r]=arguments[n+2]}function Sp_clearFrameByDirection(){this.fbd=null,this.fbdSet=!1}function Sp_stopfollow(){var i,n,t;if(this.following){for(i=!1,n=0;n<this.following.followedby.length;n++)if(this.following.followedby[n]==this){i=!0;break}if(i){for(t=n;t<this.following.followedby.length-1;t++)this.following.followedby[t]=this.following.followedby[t+1];this.following.followedby[this.following.followedby.length-1]=null,this.following.followedby.length--,this.following.followedby.length==0&&(this.following.beingfollowed=!1)}this.following=null}}function Sp_target(n,t,i){this.targetting=n,this.targettingx=t||0,this.targettingy=i||0}function Sp_stopTargetting(n){this.targetting=null,this.targettingx=0,this.targettingy=0,n&&n.toLowerCase()=="drift"||(this.xspeed=0,this.yspeed=0,this.xdir=0,this.ydir=0,this.speed=0)}function Sp_setCollides(n){this.collides=n,n||(this.hitarray=[],this.hit=null)}function Sp_setz(n){this.z=n,this.ob.zIndex=n}function Sp_setdir(n,t){this.xdir=n,this.ydir=t,this.xydegs=-1,this.xspeed=this.xdir*this.speed,this.yspeed=this.ydir*this.speed,this.fbdSet&&(this.xydegs=Math.round(360*((Math.atan2(-n,t)+3.14159)/6.28318)),this.frame!=this.fbd[this.xydegs]&&this.setFrame(this.fbd[this.xydegs]))}function Sp_getxydegs(){return this.xydegs==-1&&(this.xydegs=Math.round(360*((Math.atan2(-this.xdir,this.ydir)+3.14159)/6.28318))),this.xydegs}function Sp_setxydegs(n){var t=Math.floor(n)%360;t<0&&(t=360+t),this.xydegs=t,this.xdir=Gl_sin[t],this.ydir=Gl_cos[t],this.xspeed=this.xdir*this.speed,this.yspeed=this.ydir*this.speed,this.fbdSet&&this.fbd[t]>-1&&this.frame!=this.fbd[t]&&this.setFrame(this.fbd[t])}function Sp_setxlimits(n,t){this.xmin=n,this.xmax=t,this.x<this.xmin?this.x=this.xmin:this.x+this.width>this.xmax&&(this.x=this.xmax)}function Sp_setylimits(n,t){this.ymin=n,this.ymax=t,this.y<this.ymin?this.y=this.ymin:this.y+this.height>this.ymax&&(this.y=this.ymax)}function Sp_setframeIE(n){this.animpos=this.animsstart,this.animtmr=this.animspd,this.animrepeat=-1,this.frame=n,this.ob.clip="rect("+this.animpos*this.frameheight+","+(n*this.framewidth+this.framewidth)+","+(this.animpos+1)*this.frameheight+","+n*this.framewidth+")",this.off||(this.iX=Math.round(this.x),this.iY=Math.round(this.y),this.ob.left=this.iX+Sp_xoffset-this.frame*this.framewidth,this.ob.top=this.iY+Sp_yoffset-this.animpos*this.frameheight)}function Sp_setframeDOM2(n){this.animpos=this.animsstart,this.animtmr=this.animspd,this.frame=n,this.off||(this.iX=Math.round(this.x),this.iY=Math.round(this.y),this.ob.left=this.iX+Sp_xoffset+"px",this.ob.top=this.iY+Sp_yoffset+"px"),this.ob.backgroundPosition=-(n*this.framewidth)+"px "+-(this.animpos*this.frameheight)+"px"}function Sp_setframeNS(n){this.animpos=this.animsstart,this.animtmr=this.animspd,this.frame=n,this.iX=Math.round(this.x),this.iY=Math.round(this.y),this.ob.clip.left=n*this.framewidth,this.ob.clip.right=n*this.framewidth+this.framewidth,this.ob.clip.top=this.animpos*this.frameheight,this.ob.clip.bottom=(this.animpos+1)*this.frameheight,this.off||this.ob.moveTo(this.iX+Sp_xoffset-this.frame*this.framewidth,this.iY+Sp_yoffset-this.animpos*this.frameheight)}function Sp_setanimIE(n){n>this.animsend?n=this.animsend:n<this.animsstart&&(n=this.animsstart),this.animpos=n,this.iX=Math.round(this.x),this.iY=Math.round(this.y),this.ob.clip="rect("+this.animpos*this.frameheight+","+(this.frame*this.framewidth+this.framewidth)+","+(this.animpos*this.frameheight+this.frameheight)+","+this.frame*this.framewidth+")",this.ob.left=this.iX+Sp_xoffset-this.frame*this.framewidth,this.ob.top=this.iY+Sp_yoffset-this.animpos*this.frameheight,this.collides&&this.check_collide()}function Sp_setanimDOM2(n){n>this.animsend?n=this.animsend:n<this.animsstart&&(n=this.animsstart),this.animpos=n,this.iX=Math.round(this.x),this.iY=Math.round(this.y),this.ob.left=this.iX+Sp_xoffset+"px",this.ob.top=this.iY+Sp_yoffset+"px",this.ob.backgroundPosition=-(this.frame*this.framewidth)+"px "+-(this.animpos*this.frameheight)+"px",this.collides&&this.check_collide()}function Sp_setanimNS(n){n>this.animsend?n=this.animsend:n<this.animsstart&&(n=this.animsstart),this.animpos=n,this.iX=Math.round(this.x),this.iY=Math.round(this.y),this.ob.clip.top=this.animpos*this.frameheight,this.ob.clip.left=this.frame*this.framewidth,this.ob.clip.right=this.frame*this.framewidth+this.framewidth,this.ob.clip.bottom=this.animpos*this.frameheight+this.frameheight,this.ob.moveTo(this.iX+Sp_xoffset-this.frame*this.framewidth,this.iY+Sp_yoffset-this.animpos*this.frameheight),this.collides&&this.check_collide()}function Sp_movetoIE(n,t){n>this.xmax-this.width?n=this.xmax-this.width:n<this.xmin&&(n=this.xmin),t>this.ymax-this.height?t=this.ymax-this.height:t<this.ymin&&(t=this.ymin),this.iX=Math.round(n),this.iY=Math.round(t),this.x=n,this.y=t,this.ob.top=this.iY+Sp_yoffset-this.animpos*this.frameheight,this.ob.left=this.iX+Sp_xoffset-this.frame*this.framewidth,this.collides&&this.check_collide()}function Sp_movetoDOM2(n,t){n>this.xmax-this.width?n=this.xmax-this.width:n<this.xmin&&(n=this.xmin),t>this.ymax-this.height?t=this.ymax-this.height:t<this.ymin&&(t=this.ymin),this.iX=Math.round(n),this.iY=Math.round(t),this.ob.top=this.iY+Sp_yoffset+"px",this.ob.left=this.iX+Sp_xoffset+"px",this.x=n,this.y=t,this.collides&&this.check_collide()}function Sp_movetoNS(n,t){n>this.xmax-this.width?n=this.xmax-this.width:n<this.xmin&&(n=this.xmin),t>this.ymax-this.height?t=this.ymax-this.height:t<this.ymin&&(t=this.ymin),this.iX=Math.round(n),this.iY=Math.round(t),this.ob.moveTo(this.iX+Sp_xoffset-this.frame*this.framewidth,this.iY+Sp_yoffset-this.animpos*this.frameheight),this.x=n,this.y=t,this.collides&&this.check_collide()}function Sp_movetoIE_l(){this.iX=Math.round(this.x),this.iY=Math.round(this.y),this.ob.left=this.iX+Sp_xoffset-this.frame*this.framewidth,this.ob.top=this.iY+Sp_yoffset-this.animpos*this.frameheight,this.collides&&this.check_collide()}function Sp_movetoDOM2_l(){this.iX=Math.round(this.x),this.iY=Math.round(this.y),this.ob.left=this.iX+Sp_xoffset+"px",this.ob.top=this.iY+Sp_yoffset+"px",this.collides&&this.check_collide()}function Sp_movetoNS_l(){this.iX=Math.round(this.x),this.iY=Math.round(this.y),this.ob.moveTo(this.iX+Sp_xoffset-this.frame*this.framewidth,this.iY+Sp_yoffset-this.animpos*this.frameheight),this.collides&&this.check_collide()}function Sp_check_collide(){var n,r=this.iX+this.cAl,u=this.iY+this.cAt,f=this.iX+this.cAr,e=this.iY+this.cAb,t=0,i=Sp_active.length;for(this.hit=null,this.hitarray=[],this.totalhits=0;t<i;t++)n=Sp_active[t],n!=this&&Math.abs(n.z-this.z)<this.zDiffMax&&(r>n.x+n.cAr||f<n.iX+n.cAl||u>n.y+n.cAb||e<n.iY+n.cAt||(this.hit=this.hitarray[this.totalhits++]=n,this.hitevents&&this.hitevent[n.index]&&(eval(this.hitevent[n.index]),i=Sp_active.length),n.hard&&(Sp_moveBack(this,n),this.hitevents&&this.hardhitevent&&(eval(this.hardhitevent),i=Sp_active.length))))}function Sp_moveBack(n,t){if(n.collides=!1,n.moveTo(n.x+t.xspeed,n.y+t.yspeed),n.xspeed==0&&n.yspeed==0){n.collides=!0;return}var f=0,u=!0,i,r,e=t.iX+t.cAl,o=t.iY+t.cAt,s=t.iX+t.cAr,h=t.iY+t.cAb;for(Math.abs(n.xspeed)>Math.abs(n.yspeed)?(i=n.xspeed>0?-1:1,r=n.yspeed>0?Math.abs(n.yspeed/n.xspeed):-Math.abs(n.yspeed/n.xspeed)):(r=n.yspeed>0?-1:1,i=n.xspeed>0?Math.abs(n.xspeed/n.yspeed):-Math.abs(n.xspeed/n.yspeed));u&&f++<50;)n.moveTo(n.x+i,n.y+r),u=!(n.iX+n.cAl>s||n.iX+n.cAr<e||n.iY+n.cAt>h||n.iY+n.cAb<o);n.collides=!0}function Sp_hashit(n){for(var t=0;t<this.totalhits;t++)if(this.hitarray[t]==n)return!0;return!1}function Sp_setanimspd(n,t){t&&(t=t.toLowerCase(),this.animd=t=="forward"?1:-1),this.crepeat=0,this.animspd=n,this.animtmr=n}function Sp_setanimloop(n,t){n>this.anims?n=this.anims-1:n<0&&(n=0),t>this.anims&&(t=this.anims),t<n&&(t=n),this.animsstart=n,this.animsend=t}function Sp_setimageIE(n,t,i,r,u){var f=this.raw;f.src=n,f.width=t*r,f.height=i*u,this.frames=r,this.framewidth=t,this.frameheight=i,this.anims=u,this.animsend=u,this.animsstart=0,this.ob.clip="rect(0,0,0,0)",this.width=t,this.height=i,this.cAr=this.width-1,this.cAb=this.height-1,this.image=n}function Sp_setimageDOM2(n,t,i,r,u){this.ob.backgroundImage="url("+n+")",this.ob.width=t+"px",this.ob.height=i+"px",this.frames=r,this.framewidth=t,this.frameheight=i,this.anims=u,this.animsend=u,this.animsstart=0,this.ob.clip="rect(0px '+w+'px '+h+'px 0px)",this.ob.overflow="hidden",this.width=t,this.height=i,this.cAr=this.width-1,this.cAb=this.height-1,this.image=n}function Sp_setimageNS(n,t,i,r,u){this.ob.document.open(),this.ob.document.write("<img src='"+n+"' width="+t*r+" height="+i*u+">"),this.ob.document.close(),this.framewidth=t,this.frameheight=i,this.frames=r,this.anims=u,this.animsend=u,this.animsstart=0,this.ob.clip.top=0,this.ob.clip.bottom=0,this.ob.clip.left=0,this.ob.clip.right=0,this.width=t,this.height=i,this.cAr=this.width-1,this.cAb=this.height-1,this.image=n}function Sp_swapimageIE(n){this.raw.src=n,this.image=n}function Sp_swapimageDOM2(n){this.raw.src=n,this.image=n}function Sp_swapimageNS(n){this.ob.document.images[0].src=n,this.image=n}function Sp_resizeIE(n,t){this.cAr-=this.width-1,this.cAb-=this.height-1,this.width=n,this.height=t,this.cAr+=this.width-1,this.cAb+=this.height-1,this.framewidth=n,this.frameheight=t,this.ob.width=this.width*this.frames,this.ob.height=this.height*this.anims,this.setAnimation(this.animpos)}function Sp_resizeDOM2(n,t){this.cAr-=this.width-1,this.cAb-=this.height-1,this.width=n,this.height=t,this.cAr+=this.width-1,this.cAb+=this.height-1,this.framewidth=n,this.frameheight=t,this.ob.width=this.width*this.frames,this.ob.height=this.height*this.anims,this.setAnimation(this.animpos)}function Sp_resizeNS(n,t){this.cAr-=this.width-1,this.cAb-=this.height-1,this.width=n,this.height=t,this.cAr+=this.width-1,this.cAb+=this.height-1,this.framewidth=n,this.frameheight=t,this.ob.document.open(),this.ob.document.write("<img src='"+this.image+"' width="+this.width*this.frames+" height="+this.height*this.anims+">"),this.ob.document.close(),this.setAnimation(this.animpos)}function Sp_switchonIE(){this.on||this.destroyed||(this.on=!0,this.off=!1,this.ob.posTop=this.y+Sp_yoffset-this.animpos*this.frameheight,this.ob.posLeft=this.x+Sp_xoffset-this.frame*this.framewidth,Sp_active[Sp_active.length]=this)}function Sp_switchonDOM2(){this.on||this.destroyed||(this.on=!0,this.off=!1,this.ob.top=this.y+Sp_yoffset+"px",this.ob.left=this.x+Sp_xoffset+"px",Sp_active[Sp_active.length]=this)}function Sp_switchonNS(){this.on||this.destroyed||(this.on=!0,this.off=!1,this.ob.moveTo(this.x+Sp_xoffset-this.frame*this.framewidth,this.y+Sp_yoffset-this.animpos*this.frameheight),Sp_active[Sp_active.length]=this)}function Sp_switchoff(){if(this.on){var n;for(this.on=!1,this.off=!0,this.ob.left="-10000px",this.hitarray=[],this.hit=null,Sp_active2=[],n=0;n<Sp_active.length;n++)Sp_active2[n]=Sp_active[n];for(Sp_active=[],n=0;n<Sp_active2.length;n++)Sp_active2[n]!=this&&(Sp_active[Sp_active.length]=Sp_active2[n])}}function Sp_setspeed(n){this.speed=n,this.xspeed=this.xdir*n,this.yspeed=this.ydir*n}function Sp_makestatic(){this.switchOff(),this.isstatic=!0,this.hard=!1,this.xdir=0,this.ydir=0,this.speed=0}function Sp_makehard(){this.isstatic=!1,this.hard=!0}function Sp_makenormal(){this.isstatic=!1,this.hard=!1}function Sp_setanimrepeat(n){n<-1&&(n=-1),this.animrepeat=n,this.crepeat=0}function Sp_dragtype(n){this.dragnormal=!1,this.dragvert=!1,this.draghoriz=!1,n==0?this.dragnormal=!0:n==1?this.dragvert=!0:n==2&&(this.draghoriz=!0)}function Sp_setOpacityIE(n){n<100?(this.ob.filter="alpha(opacity="+n+")",this.opacity=n):(this.ob.filter="",this.opacity=100)}function Sp_setOpacityDOM2(n){this.ob.MozOpacity=n+"%",this.opacity=n}function Sp_makeDraggable(){this.draggable=!0}function Sp_makeUndraggable(){this.draggable=!1}function Sp_groupHit(){Sp_groupHitCount[this.group]++,Sp_groupHitTriggerCount[this.group]&&Sp_groupHitCount[this.group]==Sp_groupHitTriggerCount[this.group]&&(eval(Sp_groupHitTriggerFunc[this.group]),Sp_groupHitCount[this.group]=0)}function Sp_groupSet(n){this.group=n,isNaN(Sp_groupHitCount[n])&&(Sp_groupHitCount[n]=0)}function Sp_setValue(n){this.value=n}function Sp_getHits(){return this.hitarray}function Sp_setCollisionZTest(n){this.zDiffMax=n}function Sp_destroy(){this.switchOff(),this.destroyed=!0}function Kb_trapkey(n){return new Kb_keytrap(n.toUpperCase())}function Kb_keytrap(n){var u,r,i,t;if(Kb_keystrapped==0&&(Gl_browser.ns4?(document.captureEvents(Event.KEYDOWN),document.onkeydown=kd2,document.captureEvents(Event.KEYUP),document.onkeyup=ku2,Gl_browser.unix&&(Gl_formFrameX11=new Gl_layer(0,0,200,'<form name="keytrapperform"><input type=text size=1 onblur="setTimeout(\'this.focus()\',50)" name="keyTrapper" onKeyDown="kd2(event)" onKeyUp="ku2(event)"><\/form>'),Gl_formFrameX11.setXlimits(-1e3,1e3),Gl_formFrameX11.setYlimits(-1e3,1e3),Gl_formFrameX11.moveTo(-15,-20),Gl_formFrameX11.raw.document.forms[0].elements[0].blur(),setTimeout("Gl_formFrameX11.raw.document.forms[0].elements[0].focus()",50))):Gl_browser.ie?(document.body.onkeydown=kd,document.body.onkeyup=ku):Gl_browser.dom2&&(document.onkeydown=kd2,document.onkeyup=ku2),Gl_browser.ns4&&navigator.userAgent.indexOf("X11")!=-1||(u=new Gl_layer(0,0,200,""))),document.layers&&n.length>1)for(r=["SHIFT","A","CTRL","Z","UP","I","DOWN","K","LEFT","J","RIGHT","L"],i=0;i<r.length;i+=2)if(n==r[i]){n=r[i+1];break}if(n.length>1){t=0;switch(n){case"SHIFT":t=16;break;case"CTRL":t=17;break;case"UP":t=38;break;case"DOWN":t=40;break;case"LEFT":t=37;break;case"RIGHT":t=39;break;case"ESC":t=27;break;default:t=0}this.code=t}else this.code=n.charCodeAt(0);return this.pressed=!1,this.event=null,this.setEvent=Kb_setEvent,this.clearEvent=Kb_clearEvent,Kb_keys[this.code]=this,n.length==1&&n.toUpperCase()!=n.toLowerCase()&&(this.code=n.toLowerCase().charCodeAt(0),Kb_keys[this.code]=this),Kb_keystrapped++,this}function kd(){Kb_lastcode=window.event.keyCode,kp(window.event.keyCode,!0)}function kd2(n){n.preventDefault(),Kb_lastcode=n.which,kp(n.which,!0)}function ku(){kp(window.event.keyCode,!1)}function ku2(n){kp(n.which,!1)}function kp(n,t){if(Kb_keys[n])return Kb_keys[n].pressed=t,Kb_lastkey=Kb_keys[n],t&&this.event&&eval(Kb_keys[n].event),!1}function Kb_setEvent(n){this.event=n}function Kb_clearEvent(){this.event=null}function Kb_clearTrappedKeys(){var n;for(n in Kb_keys)Kb_keys[n]=null}var Sp_totalsprites=0,Sp_xoffset=0,Sp_yoffset=0,Gl_version=2.08,Gl_n=0,Gl_STT=null,Gl_speedTestDiv=null,Gl_speedTestFinish=!1,Gl_callBack="",Gl_fps=0,Gl_layers=[],Gl_totalpreimages=0,Gl_interval=null,Gl_hooked=[],Gl_preimage=[],Gl_ticker=0,Gl_sin=[],Gl_cos=[],Gl_cookies=[],Gl_layer_index=0,Gl_iebuffer=null,Gl_ieframe=null,Gl_firstlayer=!0,Gl_f=[],Gl_flength=0,Gl_timerSpeed=40,Gl_browser=null,Gl_onSpecialItem=!1,Gl_loadQueue=[],Gl_loadwait=null,Gl_loadIndex=-4,Gl_loading=!1,Gl_loadTimer=null,Gl_loadCL=null,Gl_loadTime=0,Gl_running=!1,Gl_widgetsInUse=!1;Gl_browser=new Gl_getBrowser,Gl_styleSheet(),Gl_makedegs(),Gl_get_cookies();var Sp_blankurl="blankpix.gif",Sp_totalsprites=0,Sp_sprite=[],Sp_active=[],Sp_active2=[],Sp_groupHitCount=[],Sp_groupHitTriggerFunc=[],Sp_groupHitTriggerCount=[],Sp_spritesonscreen=0,Sp_xoffset=0,Sp_yoffset=0,Sp_cxoffset=0,Sp_cyoffset=0,Sp_linuxcompatible=!0;var Kb_keys=[],Kb_lastkey=-1,Kb_keystrapped=0,Kb_lastcode=-1